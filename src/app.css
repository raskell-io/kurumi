@import 'tailwindcss';

/* Font Face Declarations */

/* Geist - Variable font for UI */
@font-face {
	font-family: 'Geist';
	src: url('/fonts/Geist-Variable.woff2') format('woff2');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

/* Geist Mono - Variable font for code */
@font-face {
	font-family: 'Geist Mono';
	src: url('/fonts/GeistMono-Variable.woff2') format('woff2');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

/* iA Writer Quattro S - For editor */
@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-Regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-Italic.woff2') format('woff2');
	font-weight: 400;
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-Bold.woff2') format('woff2');
	font-weight: 700;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-BoldItalic.woff2') format('woff2');
	font-weight: 700;
	font-style: italic;
	font-display: swap;
}

/* Custom CSS Variables for theming */
:root {
	/* Font families */
	--font-sans: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	--font-mono: 'Geist Mono', ui-monospace, 'SF Mono', Menlo, Consolas, monospace;
	--font-editor: 'iA Writer Quattro S', Georgia, 'Times New Roman', serif;

	/* Colors */
	--color-bg: #fafafa;
	--color-bg-secondary: #f0f0f0;
	--color-text: #1a1a2e;
	--color-text-muted: #6b7280;
	--color-accent: #6366f1;
	--color-accent-hover: #4f46e5;
	--color-border: #e5e7eb;
}

/* Dark theme via system preference - Catppuccin Mocha */
@media (prefers-color-scheme: dark) {
	:root:not(.light) {
		--color-bg: #1e1e2e;
		--color-bg-secondary: #181825;
		--color-text: #cdd6f4;
		--color-text-muted: #a6adc8;
		--color-accent: #b4befe;
		--color-accent-hover: #89b4fa;
		--color-border: #313244;
	}
}

/* Manual dark theme override - Catppuccin Mocha */
:root.dark {
	--color-bg: #1e1e2e;
	--color-bg-secondary: #181825;
	--color-text: #cdd6f4;
	--color-text-muted: #a6adc8;
	--color-accent: #b4befe;
	--color-accent-hover: #89b4fa;
	--color-border: #313244;
}

/* Manual light theme override */
:root.light {
	--color-bg: #fafafa;
	--color-bg-secondary: #f0f0f0;
	--color-text: #1a1a2e;
	--color-text-muted: #6b7280;
	--color-accent: #6366f1;
	--color-accent-hover: #4f46e5;
	--color-border: #e5e7eb;
}

/* Base styles */
html {
	font-family: var(--font-sans);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Monospace elements use Geist Mono */
code,
kbd,
pre,
samp {
	font-family: var(--font-mono);
}

body {
	background-color: var(--color-bg);
	color: var(--color-text);
	overscroll-behavior: none;
}

/* Focus styles for accessibility */
:focus-visible {
	outline: 2px solid var(--color-accent);
	outline-offset: 2px;
}

/* Smooth scrolling */
html {
	scroll-behavior: smooth;
}

/* Selection */
::selection {
	background-color: var(--color-accent);
	color: white;
}

/* Safe area utilities for iPhone notch/home indicator */
.safe-top {
	padding-top: env(safe-area-inset-top, 0);
}

.safe-bottom {
	padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-left {
	padding-left: env(safe-area-inset-left, 0);
}

.safe-right {
	padding-right: env(safe-area-inset-right, 0);
}

/* Prevent pull-to-refresh on mobile */
body {
	overscroll-behavior-y: contain;
}

/* Better touch targets on mobile */
@media (hover: none) and (pointer: coarse) {
	button,
	a {
		min-height: 44px;
		min-width: 44px;
	}

	input,
	textarea {
		font-size: 16px; /* Prevent zoom on iOS */
	}
}

/* Scrollbar styling */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: var(--color-border);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-text-muted);
}

/* Hide scrollbar on mobile for cleaner look */
@media (max-width: 768px) {
	::-webkit-scrollbar {
		width: 0;
		height: 0;
	}
}

/* Prevent text selection on UI elements */
button,
nav,
header,
aside {
	-webkit-user-select: none;
	user-select: none;
}

/* Allow text selection in content areas */
main,
article,
.milkdown {
	-webkit-user-select: text;
	user-select: text;
}

/* Touch feedback */
@media (hover: none) {
	button:active,
	a:active {
		opacity: 0.7;
	}
}

/* Disable double-tap zoom on interactive elements */
button,
a,
input,
textarea {
	touch-action: manipulation;
}

/* Editor uses iA Writer Quattro S */
.milkdown {
	font-family: var(--font-editor);
	font-size: 1.0625rem;
	line-height: 1.75;
}

.milkdown .editor {
	font-family: var(--font-editor);
}

/* Code blocks in editor use Geist Mono */
.milkdown code,
.milkdown pre {
	font-family: var(--font-mono);
}
