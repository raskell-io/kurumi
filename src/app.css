@import 'tailwindcss';

/* Font Face Declarations */

/* Geist - Variable font for UI */
@font-face {
	font-family: 'Geist';
	src: url('/fonts/Geist-Variable.woff2') format('woff2');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

/* Geist Mono - Variable font for code */
@font-face {
	font-family: 'Geist Mono';
	src: url('/fonts/GeistMono-Variable.woff2') format('woff2');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

/* iA Writer Quattro S - For editor */
@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-Regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-Italic.woff2') format('woff2');
	font-weight: 400;
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-Bold.woff2') format('woff2');
	font-weight: 700;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'iA Writer Quattro S';
	src: url('/fonts/iAWriterQuattroS-BoldItalic.woff2') format('woff2');
	font-weight: 700;
	font-style: italic;
	font-display: swap;
}

/* Custom CSS Variables for theming - Catppuccin Latte (with white bg) */
:root {
	/* Font families */
	--font-sans: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	--font-mono: 'Geist Mono', ui-monospace, 'SF Mono', Menlo, Consolas, monospace;
	--font-editor: 'iA Writer Quattro S', Georgia, 'Times New Roman', serif;
	--font-size-editor: 1.0625rem;

	/* Colors - Catppuccin Latte with white background */
	--color-bg: #ffffff;
	--color-bg-secondary: #f5f5f5;
	--color-text: #4c4f69;
	--color-text-muted: #6c6f85;
	--color-accent: #7287fd;
	--color-accent-hover: #1e66f5;
	--color-border: #ccd0da;
}

/* Dark theme via system preference - Catppuccin Mocha */
@media (prefers-color-scheme: dark) {
	:root:not(.light) {
		--color-bg: #1e1e2e;
		--color-bg-secondary: #181825;
		--color-text: #cdd6f4;
		--color-text-muted: #a6adc8;
		--color-accent: #b4befe;
		--color-accent-hover: #89b4fa;
		--color-border: #313244;
	}
}

/* Manual dark theme override - Catppuccin Mocha */
:root.dark {
	--color-bg: #1e1e2e;
	--color-bg-secondary: #181825;
	--color-text: #cdd6f4;
	--color-text-muted: #a6adc8;
	--color-accent: #b4befe;
	--color-accent-hover: #89b4fa;
	--color-border: #313244;
}

/* Manual light theme override - Catppuccin Latte (with white bg) */
:root.light {
	--color-bg: #ffffff;
	--color-bg-secondary: #f5f5f5;
	--color-text: #4c4f69;
	--color-text-muted: #6c6f85;
	--color-accent: #7287fd;
	--color-accent-hover: #1e66f5;
	--color-border: #ccd0da;
}

/* Editor font options */
:root.font-quattro {
	--font-editor: 'iA Writer Quattro S', Georgia, 'Times New Roman', serif;
}

:root.font-geist {
	--font-editor: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Editor font size options */
:root.font-size-small {
	--font-size-editor: 0.9375rem; /* 15px */
}

:root.font-size-medium {
	--font-size-editor: 1.0625rem; /* 17px - default */
}

:root.font-size-large {
	--font-size-editor: 1.1875rem; /* 19px */
}

/* Base styles */
html {
	font-family: var(--font-sans);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Monospace elements use Geist Mono */
code,
kbd,
pre,
samp {
	font-family: var(--font-mono);
}

body {
	background-color: var(--color-bg);
	color: var(--color-text);
	overscroll-behavior: none;
}

/* Focus styles for accessibility */
:focus-visible {
	outline: 2px solid var(--color-accent);
	outline-offset: 2px;
}

/* Smooth scrolling */
html {
	scroll-behavior: smooth;
}

/* Selection */
::selection {
	background-color: var(--color-accent);
	color: white;
}

/* Safe area utilities for iPhone notch/home indicator */
.safe-top {
	padding-top: env(safe-area-inset-top, 0);
}

.safe-bottom {
	padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-left {
	padding-left: env(safe-area-inset-left, 0);
}

.safe-right {
	padding-right: env(safe-area-inset-right, 0);
}

/* Prevent pull-to-refresh on mobile */
body {
	overscroll-behavior-y: contain;
}

/* Better touch targets on mobile */
@media (hover: none) and (pointer: coarse) {
	button,
	a {
		min-height: 44px;
		min-width: 44px;
	}

	input,
	textarea {
		font-size: 16px; /* Prevent zoom on iOS */
	}
}

/* Scrollbar styling */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: var(--color-border);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-text-muted);
}

/* Hide scrollbar on mobile for cleaner look */
@media (max-width: 768px) {
	::-webkit-scrollbar {
		width: 0;
		height: 0;
	}
}

/* Prevent text selection on UI elements */
button,
nav,
header,
aside {
	-webkit-user-select: none;
	user-select: none;
}

/* Allow text selection in content areas */
main,
article,
.milkdown {
	-webkit-user-select: text;
	user-select: text;
}

/* Touch feedback */
@media (hover: none) {
	button:active,
	a:active {
		transform: scale(0.97);
	}
}

/* ========================================
   SMOOTH ANIMATIONS & TRANSITIONS
   ======================================== */

/* Standard easing - Material Design standard */
:root {
	--ease-out: cubic-bezier(0.4, 0, 0.2, 1);
	--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
	--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Global transition for interactive elements */
button,
a,
[role="button"],
input,
textarea,
select {
	transition:
		background-color 150ms var(--ease-out),
		border-color 150ms var(--ease-out),
		color 150ms var(--ease-out),
		transform 150ms var(--ease-out),
		box-shadow 150ms var(--ease-out),
		opacity 150ms var(--ease-out);
}

/* Keyframe Animations */
@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

@keyframes fadeOut {
	from { opacity: 1; }
	to { opacity: 0; }
}

@keyframes slideInFromLeft {
	from {
		transform: translateX(-100%);
		opacity: 0.5;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes slideInFromRight {
	from {
		transform: translateX(100%);
		opacity: 0.5;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes scaleIn {
	from {
		opacity: 0;
		transform: scale(0.95);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes slideUpFadeIn {
	from {
		opacity: 0;
		transform: translateY(8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideDownFadeIn {
	from {
		opacity: 0;
		transform: translateY(-8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Smooth spinner */
@keyframes spinSmooth {
	from { transform: rotate(0deg); }
	to { transform: rotate(360deg); }
}

.animate-spin {
	animation: spinSmooth 0.8s linear infinite;
}

/* Backdrop animation class */
.animate-backdrop {
	animation: fadeIn 200ms var(--ease-out);
}

/* Modal/dialog animation class */
.animate-modal {
	animation: scaleIn 200ms var(--ease-out);
}

/* Dropdown animation class */
.animate-dropdown {
	animation: slideDownFadeIn 150ms var(--ease-out);
}

/* Menu animation class */
.animate-menu {
	animation: slideUpFadeIn 150ms var(--ease-out);
}

/* Hover lift effect for cards and interactive items */
.hover-lift {
	transition:
		transform 200ms var(--ease-out),
		box-shadow 200ms var(--ease-out);
}

.hover-lift:hover {
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Subtle hover lift */
.hover-lift-subtle:hover {
	transform: translateY(-1px);
}

/* Focus ring animation */
:focus-visible {
	outline: 2px solid var(--color-accent);
	outline-offset: 2px;
	transition: outline-offset 150ms var(--ease-out);
}

/* Smooth accordion/expand animations */
.accordion-content {
	display: grid;
	grid-template-rows: 0fr;
	transition: grid-template-rows 250ms var(--ease-out);
}

.accordion-content.expanded {
	grid-template-rows: 1fr;
}

.accordion-content > * {
	overflow: hidden;
}

/* Chevron rotation */
.chevron {
	transition: transform 200ms var(--ease-out);
}

.chevron.expanded {
	transform: rotate(90deg);
}

/* Disable double-tap zoom on interactive elements */
button,
a,
input,
textarea {
	touch-action: manipulation;
}

/* Editor uses iA Writer Quattro S */
.milkdown {
	font-family: var(--font-editor);
	font-size: var(--font-size-editor);
	line-height: 1.75;
}

.milkdown .editor {
	font-family: var(--font-editor);
}

/* Code blocks in editor use Geist Mono */
.milkdown code,
.milkdown pre {
	font-family: var(--font-mono);
}
